---
id: subscription
title: 'Subscription'
description: ''
sidebar_label: 'Subscription'
hide_title: true
hide_table_of_contents: true
schema: true
sample:
  {
    'id': '575bcd84-09fc-4a6e-8c4c-f88b8eb90bfa',
    'amount': 110,
    'currency': 'EUR',
    'description': 'MoonMail Monthly Lite',
    'accountId': 'aa9333ba-82de-400c-9ae7-087b9f8d2242',
    'livemode': false,
    'status': 'PENDING',
    'customer': {'email': 'john.doe@example.com', 'name': 'John Doe', 'phone': null},
    'billingDetails':
      {
        'name': 'John Doe',
        'email': 'john.doe@example.com',
        'phone': null,
        'company': null,
        'taxId': null,
        'address':
          {
            'country': 'ES',
            'city': 'Málaga',
            'line1': 'Fake Street 123',
            'line2': null,
            'zip': '1234',
            'state': 'Málaga'
          }
      },
    'shippingDetails':
      {
        'name': 'John Doe',
        'email': 'john.doe@example.com',
        'phone': null,
        'company': null,
        'taxId': null,
        'address':
          {
            'country': 'ES',
            'city': 'Málaga',
            'line1': 'Fake Street 123',
            'line2': null,
            'zip': '1234',
            'state': 'Málaga'
          }
      },
    'interval': 'month',
    'intervalCount': 1,
    'pauseIntervalCount': 1,
    'lastOrderId': '14379133960355',
    'lastPayment':
      {
        'id': 'af6029f80f5fc73a8ad2753eea0b1be0',
        'status': 'PENDING',
        'statusCode': null,
        'statusMessage': null
      },
    'paymentMethod':
      {
        'method': 'card',
        'card':
          {
            'country': 'ES',
            'brand': 'visa',
            'type': 'credit',
            'threeDSecure': false,
            'threeDSecureVersion': '2.1.0',
            'threeDSecureFlow': 'CHALLENGE',
            'expiration': 2048544000,
            'last4': '0004',
            'tokenizationMethod': 'applePay',
            'cardholderName': 'John Doe',
            'cardholderEmail': 'email@example.com'
          }
      },
    'currentPeriodStart': 1636366897,
    'currentPeriodEnd': 1636366897,
    'trialPeriodEnd': 1636366897,
    'nextPaymentAt': 1636366897,
    'retryCount': 1,
    'retrySchedule':
      [
        {'interval': 'day', 'intervalCount': 1},
        {'interval': 'day', 'intervalCount': 3},
        {'interval': 'week', 'intervalCount': 1}
      ],
    'cancelAtPeriodEnd': false,
    'pauseAtPeriodEnd': false,
    'traceDetails':
      {
        'ip': '100.100.200.100',
        'countryCode': 'ES',
        'lang': 'es',
        'deviceType': 'desktop',
        'deviceModel': null,
        'browser': 'Chrome',
        'browserVersion': '83.0.4103.116',
        'os': 'Mac OS',
        'osVersion': '10.15.4',
        'source': 'MONEI/PHP',
        'sourceVersion': '0.1.2',
        'userAgent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) ...',
        'browserAccept': 'text/html,application/xhtml+xml,application/json',
        'browserColorDepth': '24',
        'browserScreenHeight': '1152',
        'browserScreenWidth': '2048',
        'browserTimezoneOffset': '-120',
        'userId': null,
        'userEmail': 'user@example.com'
      },
    'sequenceId': '62b23b9f3627cc38b08ff471ccd313ad',
    'callbackUrl': 'https://example.com/subscriptions/callback',
    'paymentCallbackUrl': 'https://example.com/payments/callback',
    'metadata': {'systemId': '12345'},
    'createdAt': 1636366897,
    'updatedAt': 1636366897
  }
custom_edit_url: null
---

import Schema from '@theme/Schema';
import Heading from '@theme/Heading';

<Heading as={'h1'} className={'openapi__heading'} children={'Subscription'}></Heading>

<Schema
  schema={{
    title: 'Subscription',
    type: 'object',
    properties: {
      id: {
        type: 'string',
        example: '575bcd84-09fc-4a6e-8c4c-f88b8eb90bfa',
        description: 'Unique identifier for the subscription.',
        title: 'Subscription-Id'
      },
      amount: {
        type: 'integer',
        format: 'int32',
        example: 110,
        description:
          'Amount intended to be collected by this payment. A positive integer\nrepresenting how much to charge in the smallest currency unit (e.g.,\n100 cents to charge 1.00 USD).\n',
        title: 'Payment-Amount'
      },
      currency: {
        type: 'string',
        example: 'EUR',
        description:
          'Three-letter [ISO currency code](https://en.wikipedia.org/wiki/ISO_4217),\nin uppercase. Must be a supported currency.\n',
        title: 'Payment-Currency'
      },
      description: {
        type: 'string',
        example: 'MoonMail Monthly Lite',
        description:
          'An arbitrary string attached to the subscription. Often useful for\ndisplaying to users.\n',
        title: 'Subscription-Description'
      },
      accountId: {
        type: 'string',
        example: 'aa9333ba-82de-400c-9ae7-087b9f8d2242',
        description: 'MONEI Account identifier.',
        title: 'AccountId'
      },
      livemode: {
        type: 'boolean',
        example: false,
        description:
          'Has the value `true` if the resource exists in live mode or the value `false` if the resource exists in test mode.',
        title: 'Livemode'
      },
      status: {
        type: 'string',
        example: 'PENDING',
        enum: ['PENDING', 'EXPIRED', 'TRIALING', 'ACTIVE', 'PAST_DUE', 'PAUSED', 'CANCELED'],
        description: 'The status of the subscription.',
        title: 'Subscription-Status'
      },
      customer: {
        type: 'object',
        properties: {
          email: {
            type: 'string',
            example: 'john.doe@example.com',
            description: "The customer's email address."
          },
          name: {
            type: 'string',
            example: 'John Doe',
            description: "The customer's full name or business name."
          },
          phone: {
            type: 'string',
            example: null,
            description: "The customer's phone number in E.164 format."
          }
        },
        title: 'Payment-Customer'
      },
      billingDetails: {
        type: 'object',
        description:
          'Billing information associated with the payment method\nat the time of the transaction.\n',
        properties: {
          name: {
            type: 'string',
            example: 'John Doe',
            description: "The customer's billing full name."
          },
          email: {
            type: 'string',
            example: 'john.doe@example.com',
            description: "The customer's billing email address."
          },
          phone: {
            type: 'string',
            example: null,
            description: "The customer's billing phone number in E.164 format."
          },
          company: {type: 'string', example: null, description: 'Billing company name.'},
          taxId: {type: 'string', example: null, description: 'Company tax ID.'},
          address: {
            title: 'Address',
            type: 'object',
            properties: {
              country: {
                type: 'string',
                example: 'ES',
                description:
                  'Two-letter country code ([ISO 3166-1 alpha-2](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2)).',
                title: 'Country'
              },
              city: {
                type: 'string',
                example: 'Málaga',
                description: 'City, district, suburb, town, or village.'
              },
              line1: {
                type: 'string',
                example: 'Fake Street 123',
                description: 'Address line 1 (e.g., street, PO Box, or company name).'
              },
              line2: {
                type: 'string',
                example: null,
                description: 'Address line 2 (e.g., apartment, suite, unit, or building).'
              },
              zip: {type: 'string', example: '1234', description: 'ZIP or postal code.'},
              state: {
                type: 'string',
                example: 'Málaga',
                description: 'State, county, province, or region.'
              }
            }
          }
        },
        title: 'Payment-BillingDetails'
      },
      shippingDetails: {
        type: 'object',
        description: 'Shipping information associated with the payment.',
        properties: {
          name: {
            type: 'string',
            example: 'John Doe',
            description: "The shipping customer's full name."
          },
          email: {
            type: 'string',
            example: 'john.doe@example.com',
            description: "The shipping customer's email address."
          },
          phone: {
            type: 'string',
            example: null,
            description: "The shipping customer's phone number in E.164 format."
          },
          company: {
            type: 'string',
            example: null,
            description: 'Name of the company where the shipment is going.'
          },
          taxId: {type: 'string', example: null, description: 'Company tax ID.'},
          address: {
            title: 'Address',
            type: 'object',
            properties: {
              country: {
                type: 'string',
                example: 'ES',
                description:
                  'Two-letter country code ([ISO 3166-1 alpha-2](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2)).',
                title: 'Country'
              },
              city: {
                type: 'string',
                example: 'Málaga',
                description: 'City, district, suburb, town, or village.'
              },
              line1: {
                type: 'string',
                example: 'Fake Street 123',
                description: 'Address line 1 (e.g., street, PO Box, or company name).'
              },
              line2: {
                type: 'string',
                example: null,
                description: 'Address line 2 (e.g., apartment, suite, unit, or building).'
              },
              zip: {type: 'string', example: '1234', description: 'ZIP or postal code.'},
              state: {
                type: 'string',
                example: 'Málaga',
                description: 'State, county, province, or region.'
              }
            }
          }
        },
        title: 'Payment-ShippingDetails'
      },
      interval: {
        type: 'string',
        example: 'month',
        enum: ['day', 'week', 'month', 'year'],
        description: 'Subscription interval.',
        title: 'Subscription-Interval'
      },
      intervalCount: {
        type: 'integer',
        format: 'int32',
        example: 1,
        description: 'Number of intervals between subscription payments.',
        title: 'Subscription-IntervalCount'
      },
      pauseIntervalCount: {
        type: 'integer',
        format: 'int32',
        example: 1,
        description:
          'Number of intervals when subscription will be paused before it activates again.',
        title: 'Subscription-PauseIntervalCount'
      },
      lastOrderId: {
        type: 'string',
        example: '14379133960355',
        description:
          'An order ID from your system. A unique identifier that can be used\nto reconcile the payment with your internal system.\n',
        title: 'Payment-OrderId'
      },
      lastPayment: {
        type: 'object',
        properties: {
          id: {
            type: 'string',
            example: 'af6029f80f5fc73a8ad2753eea0b1be0',
            description: 'Unique identifier for the payment.',
            title: 'Payment-Id'
          },
          status: {
            type: 'string',
            example: 'PENDING',
            enum: [
              'SUCCEEDED',
              'PENDING',
              'FAILED',
              'CANCELED',
              'REFUNDED',
              'PARTIALLY_REFUNDED',
              'AUTHORIZED',
              'EXPIRED'
            ],
            description: 'The status of the payment.',
            title: 'Payment-Status'
          },
          statusCode: {
            allOf: [{type: 'string', example: null}],
            description:
              '<p>The MONEI API returns a <code>statusCode</code> attribute in the <a href="https://docs.monei.com/docs/apis/rest/payments/">Payment Object</a> to indicate the outcome of your request. This helps you understand whether an operation was successful or why it failed.</p>\n<h3>Success Code</h3>\n<p>Successful transactions return the following code:</p>\n<table>\n<thead>\n<tr>\n<th>Code</th>\n<th>Message</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>E000</td>\n<td>Transaction approved</td>\n</tr>\n<tr>\n<td>E001</td>\n<td>Transaction pending processing</td>\n</tr>\n<tr>\n<td>E002</td>\n<td>Transaction pending authentication</td>\n</tr>\n<tr>\n<td>E003</td>\n<td>Transaction pending authorization</td>\n</tr>\n</tbody></table>\n<h3>Error Codes</h3>\n<p>Error codes are grouped by category to help you quickly identify the type of issue:</p>\n<h4>Configuration Errors (E1xx)</h4>\n<p>These errors relate to account configuration issues:</p>\n<table>\n<thead>\n<tr>\n<th>Code</th>\n<th>Message</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>E101</td>\n<td>Error with payment processor configuration. Check this in your dashboard or contact MONEI for support</td>\n</tr>\n<tr>\n<td>E102</td>\n<td>Invalid or inactive MID. Please contact the acquiring entity</td>\n</tr>\n<tr>\n<td>E103</td>\n<td>Operation not allowed/configured for this merchant. Please contact the acquiring entity or MONEI for support</td>\n</tr>\n<tr>\n<td>E104</td>\n<td>Partial captures are not enabled in your account, please contact MONEI support</td>\n</tr>\n<tr>\n<td>E105</td>\n<td>MOTO Payment are not enabled in your account, please contact MONEI support</td>\n</tr>\n</tbody></table>\n<h4>Authentication and Request Errors (E15x)</h4>\n<p>These errors indicate issues with your API request format or authentication:</p>\n<table>\n<thead>\n<tr>\n<th>Code</th>\n<th>Message</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>E150</td>\n<td>Invalid or malformed request. Please check the message format</td>\n</tr>\n<tr>\n<td>E151</td>\n<td>Missing or malformed signature/auth</td>\n</tr>\n<tr>\n<td>E152</td>\n<td>Error while decrypting request</td>\n</tr>\n<tr>\n<td>E153</td>\n<td>Pre-authorization is expired and cannot be canceled or captured</td>\n</tr>\n<tr>\n<td>E154</td>\n<td>The payment date cannot be less than the cancellation or capture date</td>\n</tr>\n<tr>\n<td>E155</td>\n<td>The cancellation date exceeded the date allowed for pre-authorized operations</td>\n</tr>\n<tr>\n<td>E156</td>\n<td>Unauthorized token</td>\n</tr>\n</tbody></table>\n<h4>Transaction Processing Errors (E2xx)</h4>\n<p>These errors occur during payment processing:</p>\n<table>\n<thead>\n<tr>\n<th>Code</th>\n<th>Message</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>E200</td>\n<td>Transaction failed during payment processing</td>\n</tr>\n<tr>\n<td>E201</td>\n<td>Transaction declined by the card-issuing bank</td>\n</tr>\n<tr>\n<td>E202</td>\n<td>Transaction declined by the issuing bank</td>\n</tr>\n<tr>\n<td>E203</td>\n<td>Payment method not allowed</td>\n</tr>\n<tr>\n<td>E204</td>\n<td>Wrong or not allowed currency</td>\n</tr>\n<tr>\n<td>E205</td>\n<td>Incorrect reference / transaction does not exist</td>\n</tr>\n<tr>\n<td>E206</td>\n<td>Invalid payment method</td>\n</tr>\n<tr>\n<td>E207</td>\n<td>Transaction failed: process time exceeded</td>\n</tr>\n<tr>\n<td>E208</td>\n<td>Transaction is currently being processed</td>\n</tr>\n<tr>\n<td>E209</td>\n<td>Duplicated operation</td>\n</tr>\n<tr>\n<td>E210</td>\n<td>Wrong or not allowed payment amount</td>\n</tr>\n<tr>\n<td>E211</td>\n<td>Refund declined by processor</td>\n</tr>\n<tr>\n<td>E212</td>\n<td>Transaction has already been captured</td>\n</tr>\n<tr>\n<td>E213</td>\n<td>Transaction has already been canceled</td>\n</tr>\n<tr>\n<td>E214</td>\n<td>The amount to be captured cannot exceed the pre-authorized amount</td>\n</tr>\n<tr>\n<td>E215</td>\n<td>The transaction to be captured has not been pre-authorized yet</td>\n</tr>\n<tr>\n<td>E216</td>\n<td>The transaction to be canceled has not been pre-authorized yet</td>\n</tr>\n<tr>\n<td>E217</td>\n<td>Transaction denied by processor to avoid duplicated operations</td>\n</tr>\n<tr>\n<td>E218</td>\n<td>Error during payment request validation</td>\n</tr>\n<tr>\n<td>E219</td>\n<td>Refund declined due to exceeded amount</td>\n</tr>\n<tr>\n<td>E220</td>\n<td>Transaction has already been fully refunded</td>\n</tr>\n<tr>\n<td>E221</td>\n<td>Transaction declined due to insufficient funds</td>\n</tr>\n<tr>\n<td>E222</td>\n<td>The user has canceled the payment</td>\n</tr>\n<tr>\n<td>E223</td>\n<td>Waiting for the transaction to be completed</td>\n</tr>\n<tr>\n<td>E224</td>\n<td>No reason to decline</td>\n</tr>\n<tr>\n<td>E225</td>\n<td>Refund not allowed</td>\n</tr>\n<tr>\n<td>E226</td>\n<td>Transaction cannot be completed, violation of law</td>\n</tr>\n<tr>\n<td>E227</td>\n<td>Stop Payment Order</td>\n</tr>\n<tr>\n<td>E228</td>\n<td>Strong Customer Authentication required</td>\n</tr>\n<tr>\n<td>E229</td>\n<td>Expired payment method</td>\n</tr>\n</tbody></table>\n<h4>3D Secure Related Errors (E3xx)</h4>\n<p>These errors are related to 3D Secure authentication:</p>\n<table>\n<thead>\n<tr>\n<th>Code</th>\n<th>Message</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>E300</td>\n<td>Transaction declined due to security restrictions</td>\n</tr>\n<tr>\n<td>E301</td>\n<td>3D Secure authentication failed</td>\n</tr>\n<tr>\n<td>E302</td>\n<td>Authentication process timed out. Please try again</td>\n</tr>\n<tr>\n<td>E303</td>\n<td>An error occurred during the 3D Secure process</td>\n</tr>\n<tr>\n<td>E304</td>\n<td>Invalid or malformed 3D Secure request</td>\n</tr>\n<tr>\n<td>E305</td>\n<td>Exemption not allowed</td>\n</tr>\n<tr>\n<td>E306</td>\n<td>Exemption error</td>\n</tr>\n<tr>\n<td>E307</td>\n<td>Fraud control error</td>\n</tr>\n<tr>\n<td>E308</td>\n<td>External MPI received wrong. Please check the data</td>\n</tr>\n<tr>\n<td>E309</td>\n<td>External MPI not enabled. Please contact support</td>\n</tr>\n<tr>\n<td>E310</td>\n<td>Transaction confirmation rejected by the merchant</td>\n</tr>\n</tbody></table>\n<h4>Card Related Errors (E5xx)</h4>\n<p>These errors are specific to card payments:</p>\n<table>\n<thead>\n<tr>\n<th>Code</th>\n<th>Message</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>E500</td>\n<td>Transaction declined during card payment process</td>\n</tr>\n<tr>\n<td>E501</td>\n<td>Card rejected: invalid card number</td>\n</tr>\n<tr>\n<td>E502</td>\n<td>Card rejected: wrong expiration date</td>\n</tr>\n<tr>\n<td>E503</td>\n<td>Card rejected: wrong CVC/CVV2 number</td>\n</tr>\n<tr>\n<td>E504</td>\n<td>Card number not registered</td>\n</tr>\n<tr>\n<td>E505</td>\n<td>Card is expired</td>\n</tr>\n<tr>\n<td>E506</td>\n<td>Error during payment authorization. Please try again</td>\n</tr>\n<tr>\n<td>E507</td>\n<td>Cardholder has canceled the payment</td>\n</tr>\n<tr>\n<td>E508</td>\n<td>Transaction declined: AMEX cards not accepted by payment processor</td>\n</tr>\n<tr>\n<td>E509</td>\n<td>Card blocked temporarily or under suspicion of fraud</td>\n</tr>\n<tr>\n<td>E510</td>\n<td>Card does not allow pre-authorization operations</td>\n</tr>\n<tr>\n<td>E511</td>\n<td>CVC/CVV2 number is required</td>\n</tr>\n<tr>\n<td>E512</td>\n<td>Unsupported card type</td>\n</tr>\n<tr>\n<td>E513</td>\n<td>Transaction type not allowed for this type of card</td>\n</tr>\n<tr>\n<td>E514</td>\n<td>Transaction declined by card issuer</td>\n</tr>\n<tr>\n<td>E515</td>\n<td>Implausible card data</td>\n</tr>\n<tr>\n<td>E516</td>\n<td>Incorrect PIN</td>\n</tr>\n<tr>\n<td>E517</td>\n<td>Transaction not allowed for cardholder</td>\n</tr>\n<tr>\n<td>E518</td>\n<td>The amount exceeds the card limit</td>\n</tr>\n</tbody></table>\n<h4>Digital Wallet Errors (E6xx)</h4>\n<p>These errors are related to digital wallet payments:</p>\n<table>\n<thead>\n<tr>\n<th>Code</th>\n<th>Message</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>E600</td>\n<td>Transaction declined during ApplePay/GooglePay payment process</td>\n</tr>\n<tr>\n<td>E601</td>\n<td>Incorrect ApplePay or GooglePay configuration</td>\n</tr>\n</tbody></table>\n<h4>PayPal Related Errors (E62x)</h4>\n<p>These errors are specific to PayPal payments:</p>\n<table>\n<thead>\n<tr>\n<th>Code</th>\n<th>Message</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>E620</td>\n<td>Transaction declined during PayPal payment process</td>\n</tr>\n<tr>\n<td>E621</td>\n<td>Transaction declined during PayPal payment process: invalid currency</td>\n</tr>\n</tbody></table>\n<h4>Bizum Related Errors (E64x-E65x)</h4>\n<p>These errors are specific to Bizum payments:</p>\n<table>\n<thead>\n<tr>\n<th>Code</th>\n<th>Message</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>E640</td>\n<td>Bizum transaction declined after three authentication attempts</td>\n</tr>\n<tr>\n<td>E641</td>\n<td>Bizum transaction declined due to failed authorization</td>\n</tr>\n<tr>\n<td>E642</td>\n<td>Bizum transaction declined due to insufficient funds</td>\n</tr>\n<tr>\n<td>E643</td>\n<td>Bizum transaction canceled: the user does not want to continue</td>\n</tr>\n<tr>\n<td>E644</td>\n<td>Bizum transaction rejected by destination bank</td>\n</tr>\n<tr>\n<td>E645</td>\n<td>Bizum transaction rejected by origin bank</td>\n</tr>\n<tr>\n<td>E646</td>\n<td>Bizum transaction rejected by processor</td>\n</tr>\n<tr>\n<td>E647</td>\n<td>Bizum transaction failed while connecting with processor. Please try again</td>\n</tr>\n<tr>\n<td>E648</td>\n<td>Bizum transaction failed, payee is not found</td>\n</tr>\n<tr>\n<td>E649</td>\n<td>Bizum transaction failed, payer is not found</td>\n</tr>\n<tr>\n<td>E650</td>\n<td>Bizum REST not implemented</td>\n</tr>\n<tr>\n<td>E651</td>\n<td>Bizum transaction declined due to failed authentication</td>\n</tr>\n<tr>\n<td>E652</td>\n<td>The customer has disabled Bizum, please use another payment method</td>\n</tr>\n</tbody></table>\n<h4>ClickToPay Related Errors (E68x)</h4>\n<p>These errors are specific to ClickToPay payments:</p>\n<table>\n<thead>\n<tr>\n<th>Code</th>\n<th>Message</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>E680</td>\n<td>Transaction declined during ClickToPay payment process</td>\n</tr>\n<tr>\n<td>E681</td>\n<td>Incorrect ClickToPay configuration</td>\n</tr>\n</tbody></table>\n<h4>Cofidis Related Errors (E7xx)</h4>\n<p>These errors are specific to Cofidis payments:</p>\n<table>\n<thead>\n<tr>\n<th>Code</th>\n<th>Message</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>E700</td>\n<td>Transaction declined during Cofidis payment process</td>\n</tr>\n</tbody></table>\n<h4>System Errors (E9xx)</h4>\n<p>These errors indicate system-level issues:</p>\n<table>\n<thead>\n<tr>\n<th>Code</th>\n<th>Message</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>E999</td>\n<td>Service internal error. Please contact support</td>\n</tr>\n</tbody></table>\n',
            title: 'Payment-StatusCode'
          },
          statusMessage: {
            type: 'string',
            example: null,
            description: 'Human readable status message, can be displayed to a user.\n',
            title: 'Payment-StatusMessage'
          }
        },
        title: 'Subscription-LastPayment'
      },
      paymentMethod: {
        type: 'object',
        description: 'Details about the payment method at the time of the transaction.\n',
        properties: {
          method: {
            type: 'string',
            example: 'card',
            enum: ['card'],
            description: 'Subscription method type.'
          },
          card: {
            type: 'object',
            description:
              'Details about the card used as payment method at the time of the transaction.\n',
            properties: {
              country: {
                type: 'string',
                example: 'ES',
                description:
                  'Two-letter country code ([ISO 3166-1 alpha-2](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2)).',
                title: 'Country'
              },
              brand: {
                type: 'string',
                example: 'visa',
                enum: ['visa', 'mastercard', 'diners', 'amex', 'jcb', 'unionpay', 'unknown'],
                description: 'Card brand.'
              },
              type: {
                type: 'string',
                example: 'credit',
                enum: ['debit', 'credit'],
                description: 'Card type `debit` or `credit`.'
              },
              threeDSecure: {
                type: 'boolean',
                example: false,
                description: 'Whether this transaction used 3D Secure authentication.'
              },
              threeDSecureVersion: {
                type: 'string',
                example: '2.1.0',
                description: 'The protocol version of the 3DS challenge.'
              },
              threeDSecureFlow: {
                type: 'string',
                example: 'CHALLENGE',
                enum: ['CHALLENGE', 'FRICTIONLESS', 'FRICTIONLESS_CHALLENGE', 'DIRECT'],
                description:
                  "The flow used for 3DS authentication.\n- `CHALLENGE` - In a challenge flow, the issuer requires additional shopper interaction, either through biometrics, two-factor authentication, or similar methods based on [Strong Customer Authentication (SCA)](https://en.wikipedia.org/wiki/Strong_customer_authentication) factors.\n- `FRICTIONLESS` - In a frictionless flow, the acquirer, issuer, and card scheme exchange all necessary\n    information in the background through passive authentication using the shopper's device\n    fingerprint. The transaction is completed without further shopper interaction.\n- `FRICTIONLESS_CHALLENGE` - This flow is the complete 3DS flow. It is similar to the 3DS frictionless flow but\n    includes an additional authentication step (challenge) that will be invoked if the\n    information provided in the data collection step does not suffice to determine the\n    risk-level of the transaction.\n- `DIRECT` - This transaction did not require [Strong Customer Authentication (SCA)](https://en.wikipedia.org/wiki/Strong_customer_authentication) due to the low risk\n"
              },
              expiration: {
                type: 'integer',
                format: 'int64',
                example: 2048544000,
                description:
                  'Time at which the card will expire.\nMeasured in seconds since the Unix epoch.\n'
              },
              last4: {
                type: 'string',
                example: '0004',
                description: 'The last four digits of the card.'
              },
              tokenizationMethod: {
                type: 'string',
                example: 'applePay',
                enum: ['applePay', 'googlePay', 'clickToPay'],
                description: 'The digital wallet used to tokenize the card.'
              },
              cardholderName: {
                type: 'string',
                example: 'John Doe',
                description: 'The name of the cardholder.'
              },
              cardholderEmail: {
                type: 'string',
                example: 'email@example.com',
                description: 'The email of the cardholder.'
              }
            },
            title: 'Payment-PaymentMethodCard'
          }
        },
        title: 'Subscription-PaymentMethod'
      },
      currentPeriodStart: {
        type: 'number',
        format: 'int64',
        example: 1636366897,
        description:
          'The start date of the current subscription period. Measured in seconds since the Unix epoch.',
        title: 'Subscription-CurrentPeriodStart'
      },
      currentPeriodEnd: {
        type: 'number',
        format: 'int64',
        example: 1636366897,
        description:
          'The end date of the current subscription period. Measured in seconds since the Unix epoch.',
        title: 'Subscription-CurrentPeriodEnd'
      },
      trialPeriodEnd: {
        type: 'number',
        format: 'int64',
        example: 1636366897,
        description: 'The end date of the trial period. Measured in seconds since the Unix epoch.',
        title: 'Subscription-TrialPeriodEnd'
      },
      nextPaymentAt: {
        type: 'integer',
        format: 'int64',
        example: 1636366897,
        description: 'The date when the next payment will be made.',
        title: 'Subscription-NextPaymentAt'
      },
      retryCount: {
        type: 'integer',
        format: 'int32',
        example: 1,
        description: 'Number of retries left for the subscription.',
        title: 'Subscription-RetryCount'
      },
      retrySchedule: {
        type: 'array',
        items: {
          type: 'object',
          properties: {
            interval: {
              type: 'string',
              enum: ['day', 'week', 'month', 'year'],
              example: 'day',
              description: 'The unit of time to wait before the retry attempt.'
            },
            intervalCount: {
              type: 'integer',
              format: 'int32',
              minimum: 1,
              maximum: 31,
              example: 3,
              description: 'The number of intervals to wait before the retry attempt.'
            }
          },
          required: ['interval', 'intervalCount']
        },
        example: [
          {interval: 'day', intervalCount: 1},
          {interval: 'day', intervalCount: 3},
          {interval: 'week', intervalCount: 1}
        ],
        description:
          "Defines a custom schedule for retrying failed subscription payments. Each entry in the array specifies how long to wait before attempting the next payment retry.\nIf not specified, the system's default retry schedule will be used.\n",
        title: 'Subscription-RetrySchedule'
      },
      cancelAtPeriodEnd: {
        type: 'boolean',
        example: false,
        description:
          'If true, the subscription will be canceled at the end of the current period.\n',
        title: 'Subscription-CancelAtPeriodEnd'
      },
      pauseAtPeriodEnd: {
        type: 'boolean',
        example: false,
        description: 'If true, the subscription will be paused at the end of the current period.\n',
        title: 'Subscription-PauseAtPeriodEnd'
      },
      traceDetails: {
        description:
          'Information related to the browsing session of the user\nwho initiated the payment.\n',
        properties: {
          ip: {
            type: 'string',
            example: '100.100.200.100',
            description: 'The IP address where the operation originated.',
            title: 'IP'
          },
          countryCode: {
            type: 'string',
            example: 'ES',
            description:
              'Two-letter country code ([ISO 3166-1 alpha-2](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-2)).',
            title: 'Country'
          },
          lang: {
            type: 'string',
            example: 'es',
            description:
              'Two-letter language code ([ISO 639-1](https://en.wikipedia.org/wiki/ISO_639-1)).',
            title: 'Lang'
          },
          deviceType: {
            type: 'string',
            example: 'desktop',
            description: 'Device type, could be `desktop`, `mobile`, `smartTV`, `tablet`.',
            title: 'DeviceType'
          },
          deviceModel: {
            type: 'string',
            example: null,
            description:
              'Information about the device used for the browser session (e.g., `iPhone`).',
            title: 'DeviceModel'
          },
          browser: {
            type: 'string',
            example: 'Chrome',
            description: 'The browser used in this browser session (e.g., `Mobile Safari`).',
            title: 'Browser'
          },
          browserVersion: {
            type: 'string',
            example: '83.0.4103.116',
            description: 'The version for the browser session (e.g., `13.1.1`).',
            title: 'BrowserVersion'
          },
          os: {
            type: 'string',
            example: 'Mac OS',
            description: 'Operation system (e.g., `iOS`).',
            title: 'Os'
          },
          osVersion: {
            type: 'string',
            example: '10.15.4',
            description: 'Operation system version (e.g., `13.5.1`).',
            title: 'OsVersion'
          },
          source: {
            type: 'string',
            example: 'MONEI/PHP',
            description:
              "The source component from where the operation was generated (mostly for our SDK's).",
            title: 'Source'
          },
          sourceVersion: {
            type: 'string',
            example: '0.1.2',
            description:
              "The source component version from where the operation was generated (mostly for our SDK's).",
            title: 'SourceVersion'
          },
          userAgent: {
            type: 'string',
            example: 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) ...',
            description: 'Full user agent string of the browser session.',
            title: 'UserAgent'
          },
          browserAccept: {
            type: 'string',
            example: 'text/html,application/xhtml+xml,application/json',
            description: 'Browser accept header.',
            title: 'BrowserAccept'
          },
          browserColorDepth: {
            type: 'string',
            example: '24',
            description: 'The color depth of the browser session (e.g., `24`).',
            title: 'BrowserColorDepth'
          },
          browserScreenHeight: {
            type: 'string',
            example: '1152',
            description: 'The screen height of the browser session (e.g., `1152`).',
            title: 'BrowserScreenHeight'
          },
          browserScreenWidth: {
            type: 'string',
            example: '2048',
            description: 'The screen width of the browser session (e.g., `2048`).',
            title: 'BrowserScreenWidth'
          },
          browserTimezoneOffset: {
            type: 'string',
            example: '-120',
            description: 'The timezone offset of the browser session (e.g., `-120`).',
            title: 'BrowserTimezoneOffset'
          },
          userId: {
            type: 'string',
            example: null,
            description: 'The ID of the user that started the operation.'
          },
          userEmail: {
            type: 'string',
            example: 'user@example.com',
            description: 'The email of the user that started the operation.'
          }
        },
        title: 'Payment-TraceDetails'
      },
      sequenceId: {
        type: 'string',
        example: '62b23b9f3627cc38b08ff471ccd313ad',
        description:
          'A permanent identifier that refers to the initial payment of\na sequence of payments. This value needs to be sent in the path\nfor `RECURRING` payments.\n',
        title: 'Payment-SequenceId'
      },
      callbackUrl: {
        type: 'string',
        example: 'https://example.com/subscriptions/callback',
        description:
          'The URL will be called each time subscription status changes. You will receive a subscription object in the body of the request.\n',
        title: 'Subscription-CallbackUrl'
      },
      paymentCallbackUrl: {
        type: 'string',
        example: 'https://example.com/payments/callback',
        description:
          'The URL will be called each time subscription creates a new payments. You will receive the payment object in the body of the request.\n',
        title: 'Subscription-PaymentCallbackUrl'
      },
      metadata: {
        type: 'object',
        example: {systemId: '12345'},
        description:
          'A set of key-value pairs that you can attach to a resource. This can be useful for storing additional information about the resource in a structured format.',
        title: 'Metadata'
      },
      createdAt: {
        type: 'integer',
        format: 'int64',
        example: 1636366897,
        description:
          'Time at which the resource was created. Measured in seconds since the Unix epoch.',
        title: 'CreatedAt'
      },
      updatedAt: {
        type: 'integer',
        format: 'int64',
        example: 1636366897,
        description:
          'Time at which the resource updated last time. Measured in seconds since the Unix epoch.',
        title: 'UpdatedAt'
      }
    }
  }}
  schemaType={'response'}
></Schema>
